<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YOU'RE ON THE LIST | 6-Week Foundations</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        :root { --brand-sage: #87ae73; }
        body { font-family: 'Inter', sans-serif; background-color: #0a0a0a; color: white; overflow-x: hidden; }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        
        .text-brand-sage { color: var(--brand-sage); }
        .bg-brand-sage { background-color: var(--brand-sage); }
        
        .bg-blob {
            position: fixed;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(135, 174, 115, 0.15) 0%, rgba(0, 0, 0, 0) 70%);
            border-radius: 50%;
            z-index: -1;
            filter: blur(60px);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade { animation: fadeIn 0.8s cubic-bezier(0.165, 0.84, 0.44, 1) forwards; }
        
        .whatsapp-bounce { animation: whatsapp-float 3s ease-in-out infinite; }
        
        @keyframes whatsapp-float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Message Popup Styles (Matching Dark Glass Style) */
        #wa-popup {
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.4s ease;
            transform: translateY(20px) scale(0.9);
            pointer-events: none;
            opacity: 0;
            user-select: none;
            will-change: transform, opacity;
            background: rgba(20, 20, 20, 0.95);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        #wa-popup.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: auto;
        }

        #wa-popup.swipe-right { transform: translateX(120%) rotate(10deg); opacity: 0; }
        #wa-popup.swipe-left { transform: translateX(-120%) rotate(-10deg); opacity: 0; }

        #wa-badge {
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            opacity: 0;
            transform: scale(0);
        }

        #wa-badge.active {
            opacity: 1;
            transform: scale(1);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4 py-12 sm:py-20">

    <div class="bg-blob top-[-10%] left-[-10%]"></div>
    <div class="bg-blob bottom-[10%] right-[-5%]" style="background: radial-gradient(circle, rgba(135, 174, 115, 0.1) 0%, rgba(0, 0, 0, 0) 70%);"></div>

    <div class="max-w-2xl w-full glass-card p-8 sm:p-16 rounded-[3rem] text-center animate-fade">
        <div class="inline-flex items-center justify-center w-20 h-20 bg-brand-sage/20 rounded-full mb-8">
            <svg class="w-10 h-10 text-brand-sage" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="3">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path>
            </svg>
        </div>

        <h1 class="text-4xl sm:text-5xl font-black uppercase tracking-tighter mb-4 leading-none">
            Application <span class="text-brand-sage">Received.</span>
        </h1>
        
        <p class="text-xl text-neutral-400 font-light italic mb-10 leading-relaxed">
            I’ve got your details<span id="nameWrapper">, <span id="userName" class="text-white font-bold"></span></span>. Because I work closely with everyone in this 6-week block, I’m going to personally look over your notes to make sure the program is the right fit. Use the button below to send me a quick hello on WhatsApp so we can chat.
        </p>

        <div class="mt-10 mb-10 p-6 sm:p-8 bg-brand-sage/5 border border-brand-sage/20 rounded-3xl text-left">
            <div class="flex items-center gap-3 mb-6">
                <span class="flex h-3 w-3 rounded-full bg-brand-sage animate-pulse"></span>
                <span class="text-[10px] font-black uppercase tracking-[0.2em] text-brand-sage leading-none">Pre-Program Prep</span>
            </div>
            
            <h3 class="text-xl font-black uppercase tracking-tight mb-4 text-white">Prime Your Body for Performance</h3>
            <p class="text-sm text-neutral-400 mb-8 leading-relaxed">
                Foundations is built on compound strength. To hit your sessions with intent, start integrating these two steps immediately:
            </p>
            
            <div class="space-y-6">
                <div class="relative pl-6 border-l-2 border-white/10">
                    <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-neutral-800 border-2 border-neutral-600 flex items-center justify-center text-[8px] font-bold text-neutral-400">1</div>
                    <h4 class="text-sm font-black uppercase text-white mb-2">The "World's Greatest Stretch"</h4>
                    <p class="text-xs text-neutral-400 leading-relaxed">
                        The ultimate drill for full-body mobility. Step into a deep lunge, place your inside elbow to the floor, then rotate that same hand toward the ceiling. It opens the hips, T-spine, and ankles—essential for deep squats and heavy presses.
                    </p>
                </div>

                <div class="relative pl-6 border-l-2 border-brand-sage/30">
                    <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-brand-sage border-2 border-brand-sage/50 flex items-center justify-center text-[8px] font-bold text-white">2</div>
                    <h4 class="text-sm font-black uppercase text-white mb-2">Audit Your Numbers</h4>
                    <p class="text-xs text-neutral-400 leading-relaxed">
                        Knowledge is power. Before we start, you need a rough baseline for your 1-Rep Maxes and your daily Calorie/Macro targets. If fat loss is your primary goal, you may also benefit from our estimated BF% Calculator. <strong>Ask me for my Calculators in your WhatsApp message</strong> and I'll send them over to get you started.
                    </p>
                </div>
            </div>
        </div>

        <p class="mt-12 text-[10px] font-black uppercase text-neutral-600 tracking-[0.4em]">FITTER. STRONGER. BETTER.</p>
    </div>

    <div class="fixed bottom-6 right-6 z-[100] flex flex-col items-end">
        <div id="wa-popup" class="mb-4 mr-2 rounded-2xl p-4 shadow-2xl max-w-[280px] relative touch-none">
            <button id="close-wa" class="absolute -top-2 -left-2 w-6 h-6 bg-brand-sage text-white rounded-full flex items-center justify-center hover:bg-white hover:text-brand-sage transition shadow-lg z-10 border border-brand-sage/20">
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"/></svg>
            </button>
            
            <div class="flex items-start space-x-3">
                <div class="w-10 h-10 rounded-full bg-neutral-800 flex-shrink-0 flex items-center justify-center border border-brand-sage/40 overflow-hidden shadow-inner">
                    <img src="https://raw.githubusercontent.com/CoachChrisCRC/6weekfoundations-lp/main/coachchrisbio.jpg" alt="Coach Chris" class="w-full h-full object-cover block">
                </div>
                <div class="text-left">
                    <p class="text-brand-sage text-[10px] font-black uppercase tracking-widest mb-1">Coach Chris</p>
                    <p id="popup-text" class="text-neutral-300 text-[11px] leading-relaxed font-medium">
                        </p>
                </div>
            </div>
            <div class="absolute -bottom-2 right-6 w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-t-[10px] border-t-brand-sage/20"></div>
        </div>

        <a id="wa-dynamic-link" href="#" target="_blank" class="flex items-center group relative whatsapp-bounce">
            <div id="wa-badge" class="absolute -top-1 -right-1 w-5 h-5 bg-white text-brand-sage rounded-full flex items-center justify-center text-[10px] font-black shadow-lg z-10 border border-brand-sage/20">1</div>
            
            <div class="w-16 h-16 bg-brand-sage rounded-full flex items-center justify-center shadow-2xl hover:scale-110 transition-transform duration-300 relative">
                <div class="absolute inset-0 rounded-full bg-brand-sage animate-ping opacity-30"></div>
                <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 448 512">
                    <path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-5.5-2.8-23.2-8.5-44.2-27.1-16.4-14.6-27.4-32.7-30.6-38.2-3.2-5.6-.3-8.6 2.4-11.3 2.5-2.4 5.6-6.5 8.3-9.8 2.8-3.2 3.7-5.5 5.5-9.3 1.9-3.7.9-6.9-.5-9.8-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 13.2 5.8 23.5 9.2 31.5 11.8 13.3 4.2 25.4 3.6 35 2.2 10.7-1.5 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/>
                </svg>
            </div>
        </a>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const firstName = params.get('first_name');
            
            const userNameEl = document.getElementById('userName');
            const nameWrapper = document.getElementById('nameWrapper');
            
            if (firstName && firstName.trim() !== "") {
                userNameEl.textContent = firstName;
            } else {
                nameWrapper.style.display = 'none'; 
            }

            const popupText = document.getElementById('popup-text');
            if (firstName && firstName.trim() !== "") {
                popupText.textContent = `Nice one, ${firstName}! I've got your application. Drop me a message for the Calculators (Macro, 1rm, bf%) to lock in your numbers. Feel free to ask questions, then we can discuss next steps — Chris`;
            } else {
                popupText.textContent = `Application received! Drop me a message for the Calculators (Macro, 1rm, bf%) to lock in your numbers. Feel free to ask questions, then we can discuss next steps — Chris`;
            }

            const waLink = document.getElementById('wa-dynamic-link');
            const waIntro = firstName ? `It's ${firstName}. ` : "";
            
            const messagePart1 = `Hey Chris! ${waIntro}I've just finished the application and wanted to reach out to chat about the next steps for the 6-Week Foundations.`;
            const messagePart2 = `Could you also send over the Calculators you mentioned for getting started?`;
            
            const fullMessage = `${messagePart1}\n\n${messagePart2}`;
            
            waLink.href = `https://wa.me/447925116794?text=${encodeURIComponent(fullMessage)}`;

            const popup = document.getElementById('wa-popup');
            const badge = document.getElementById('wa-badge');
            const closeBtn = document.getElementById('close-wa');
            let triggered = false;
            let manuallyClosed = false;

            const dismissPopup = (swiped = false) => {
                manuallyClosed = true;
                if (!swiped) {
                    popup.classList.remove('visible');
                }
            };

            let touchStartX = 0;
            let touchStartY = 0;
            const swipeThreshold = 50;

            popup.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
                touchStartY = e.changedTouches[0].screenY;
            }, { passive: true });

            popup.addEventListener('touchend', (e) => {
                const touchEndX = e.changedTouches[0].screenX;
                const touchEndY = e.changedTouches[0].screenY;
                const diffX = touchEndX - touchStartX;
                const diffY = touchEndY - touchStartY;

                if (Math.abs(diffX) > Math.abs(diffY)) {
                    if (diffX > swipeThreshold) {
                        popup.classList.add('swipe-right');
                        dismissPopup(true);
                    } else if (diffX < -swipeThreshold) {
                        popup.classList.add('swipe-left');
                        dismissPopup(true);
                    }
                }
            }, { passive: true });

            const handleScroll = () => {
                if (triggered || manuallyClosed) return;
                const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPos = window.scrollY;
                const scrollPercentage = (scrollPos / (scrollHeight || 1)) * 100;

                if (scrollPercentage >= 75) {
                    triggered = true;
                    setTimeout(() => {
                        if (!manuallyClosed) {
                            popup.classList.add('visible');
                            badge.classList.add('active');
                        }
                    }, 3000);
                }
            };

            closeBtn.addEventListener('click', (e) => {
                e.preventDefault();
                dismissPopup(false);
            });

            window.addEventListener('scroll', handleScroll);
        });
    </script>
</body>
</html>
